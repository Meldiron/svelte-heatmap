!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SvelteHeatmap=t()}(this,(function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function r(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode.removeChild(e)}function u(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function s(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e){return document.createTextNode(e)}function d(){return f("")}function h(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let $;function p(e){$=e}const y=[],v=[],b=[],w=[],x=Promise.resolve();let D=!1;function L(e){b.push(e)}let z=!1;const S=new Set;function R(){if(!z){z=!0;do{for(let e=0;e<y.length;e+=1){const t=y[e];p(t),M(t.$$)}for(p(null),y.length=0;v.length;)v.pop()();for(let e=0;e<b.length;e+=1){const t=b[e];S.has(t)||(S.add(t),t())}b.length=0}while(y.length);for(;w.length;)w.pop()();D=!1,z=!1,S.clear()}}function M(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const E=new Set;let G;function C(){G={r:0,c:[],p:G}}function F(){G.r||l(G.c),G=G.p}function N(e,t){e&&e.i&&(E.delete(e),e.i(t))}function _(e,t,n,l){if(e&&e.o){if(E.has(e))return;E.add(e),G.c.push((()=>{E.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}function H(e){e&&e.c()}function O(e,n,a){const{fragment:r,on_mount:i,on_destroy:c,after_update:u}=e.$$;r&&r.m(n,a),L((()=>{const n=i.map(t).filter(o);c?c.push(...n):l(n),e.$$.on_mount=[]})),u.forEach(L)}function k(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function B(e,t){-1===e.$$.dirty[0]&&(y.push(e),D||(D=!0,x.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function A(t,o,a,r,i,u,s=[-1]){const f=$;p(t);const d=o.props||{},h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:s,skip_bound:!1};let m=!1;if(h.ctx=a?a(t,d,((e,n,...l)=>{const o=l.length?l[0]:n;return h.ctx&&i(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),m&&B(t,e)),n})):[],h.update(),m=!0,l(h.before_update),h.fragment=!!r&&r(h.ctx),o.target){if(o.hydrate){const e=(g=o.target,Array.from(g.childNodes));h.fragment&&h.fragment.l(e),e.forEach(c)}else h.fragment&&h.fragment.c();o.intro&&N(t.$$.fragment),O(t,o.target,o.anchor),R()}var g;p(f)}class T{$destroy(){k(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Y(e){const t=new Date(e.getFullYear(),e.getMonth(),1).getDay(),n=e.getDate()+t-2;return Math.floor(n/7)}function q(e){if(e instanceof Date)return e;if(["number","string"].includes(typeof e))return new Date(e);throw new Error("Invalid date value")}function W(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function j({colors:e,data:t,emptyColor:n,endDate:l,startDate:o,view:a}){var r;o=o?q(o):new Date,l=l?q(l):new Date,"monthly"===a?(r=o,o=new Date(r.getFullYear(),r.getMonth(),1),l=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}(l)):(o=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay())}(o),l=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(6-e.getDay()))}(l));let i=0;const c=o.getDate(),u=Math.floor((l-o)/864e5)+1;return new Array(u).fill().map(((e,n)=>{const l=function({data:e,offset:t,startDate:n,startDayOfMonth:l}){const o=new Date(n);o.setDate(l+t);const a=new Date(o);a.setDate(o.getDate()+1);const r=e.reduce(((e,t)=>{const n=q(t.date);return n>=o&&n<a?e+t.value:e}),0);return{date:o,value:r}}({data:t,offset:n,startDate:o,startDayOfMonth:c});l.value>i&&(i=l.value);const a=l.date.getTime(),r=l.date.getTime()+864e5;return{...t.find((e=>{const t=e.date.getTime();return t>=a&&t<=r})),...l}})).map((t=>{const{date:l,value:o}=t;let a=function({colors:e,max:t,value:n}){if(e.length&&n){let l=e[0];const o=n/t;for(let t=1;t<e.length;t++){if(o<t/e.length)return l;l=e[t]}return e[e.length-1]}return null}({colors:e,max:i,value:o})||n;return{...t,color:a,date:l,value:o}}))}function J(t){let n,o,a,r,u,f;return{c(){n=s("path"),m(n,"data-date",o=W(t[1])),m(n,"data-value",t[3]),m(n,"style",a=!(!t[6]||!t[6].hover)&&"cursor: pointer;"),m(n,"data-x",t[4]),m(n,"data-x2",t[2]),m(n,"fill",t[0]),m(n,"d",r=isNaN(t[4])||isNaN(t[5])?"":`M${t[4]+t[2]},${t[5]} h${t[7]} v${t[7]} q0,${t[2]} -${t[2]},${t[2]} h-${t[7]} v-${t[7]} q0,-${t[2]} ${t[2]},-${t[2]}`)},m(e,l){i(e,n,l),u||(f=[h(n,"mouseout",t[8]),h(n,"mouseover",t[9])],u=!0)},p(e,[t]){2&t&&o!==(o=W(e[1]))&&m(n,"data-date",o),8&t&&m(n,"data-value",e[3]),64&t&&a!==(a=!(!e[6]||!e[6].hover)&&"cursor: pointer;")&&m(n,"style",a),16&t&&m(n,"data-x",e[4]),4&t&&m(n,"data-x2",e[2]),1&t&&m(n,"fill",e[0]),180&t&&r!==(r=isNaN(e[4])||isNaN(e[5])?"":`M${e[4]+e[2]},${e[5]} h${e[7]} v${e[7]} q0,${e[2]} -${e[2]},${e[2]} h-${e[7]} v-${e[7]} q0,-${e[2]} ${e[2]},-${e[2]}`)&&m(n,"d",r)},i:e,o:e,d(e){e&&c(n),u=!1,l(f)}}}function I(e,t,n){let{color:l}=t,{date:o}=t,{radius:a}=t,{size:r}=t,{value:i}=t,{x:c}=t,{y:u}=t,{data:s}=t,{mouseEnter:f}=t,{mouseLeave:d}=t;const h=e=>({...s,pos:e.target.getBoundingClientRect()});let m;return e.$$set=e=>{"color"in e&&n(0,l=e.color),"date"in e&&n(1,o=e.date),"radius"in e&&n(2,a=e.radius),"size"in e&&n(10,r=e.size),"value"in e&&n(3,i=e.value),"x"in e&&n(4,c=e.x),"y"in e&&n(5,u=e.y),"data"in e&&n(6,s=e.data),"mouseEnter"in e&&n(11,f=e.mouseEnter),"mouseLeave"in e&&n(12,d=e.mouseLeave)},e.$$.update=()=>{1028&e.$$.dirty&&n(7,m=r-a)},[l,o,a,i,c,u,s,m,e=>{d&&d(h(e))},e=>{f&&f(h(e))},r,f,d]}class P extends T{constructor(e){super(),A(this,e,I,J,a,{color:0,date:1,radius:2,size:10,value:3,x:4,y:5,data:6,mouseEnter:11,mouseLeave:12})}}function V(e,t,n){const l=e.slice();return l[13]=t[n],l}function K(e){let t,n;return t=new P({props:{color:e[13].color,date:e[13].date,radius:e[0],size:e[2],value:e[13].value,x:X(e[13].date.getDay())*e[1],y:Y(e[13].date)*e[1]+e[7],mouseLeave:e[13].mouseLeave,mouseEnter:e[13].mouseEnter,data:e[13].data}}),{c(){H(t.$$.fragment)},m(e,l){O(t,e,l),n=!0},p(e,n){const l={};8&n&&(l.color=e[13].color),8&n&&(l.date=e[13].date),1&n&&(l.radius=e[0]),4&n&&(l.size=e[2]),8&n&&(l.value=e[13].value),10&n&&(l.x=X(e[13].date.getDay())*e[1]),138&n&&(l.y=Y(e[13].date)*e[1]+e[7]),8&n&&(l.mouseLeave=e[13].mouseLeave),8&n&&(l.mouseEnter=e[13].mouseEnter),8&n&&(l.data=e[13].data),t.$set(l)},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function Q(e){let t,n,l=e[8][e[3][0].date.getMonth()]+"";return{c(){t=s("text"),n=f(l),m(t,"alignment-baseline","hanging"),m(t,"fill",e[4]),m(t,"font-family",e[5]),m(t,"font-size",e[6]),m(t,"x","0"),m(t,"y","0")},m(e,l){i(e,t,l),r(t,n)},p(e,o){264&o&&l!==(l=e[8][e[3][0].date.getMonth()]+"")&&g(n,l),16&o&&m(t,"fill",e[4]),32&o&&m(t,"font-family",e[5]),64&o&&m(t,"font-size",e[6])},d(e){e&&c(t)}}}function U(e){let t,n,l,o,a=e[3],f=[];for(let t=0;t<a.length;t+=1)f[t]=K(V(e,a,t));const h=e=>_(f[e],1,1,(()=>{f[e]=null}));let g=e[7]>0&&Q(e);return{c(){t=s("g");for(let e=0;e<f.length;e+=1)f[e].c();n=d(),g&&g.c(),m(t,"transform",l=`translate(${e[9]}, 0)`)},m(e,l){i(e,t,l);for(let e=0;e<f.length;e+=1)f[e].m(t,null);r(t,n),g&&g.m(t,null),o=!0},p(e,[r]){if(143&r){let l;for(a=e[3],l=0;l<a.length;l+=1){const o=V(e,a,l);f[l]?(f[l].p(o,r),N(f[l],1)):(f[l]=K(o),f[l].c(),N(f[l],1),f[l].m(t,n))}for(C(),l=a.length;l<f.length;l+=1)h(l);F()}e[7]>0?g?g.p(e,r):(g=Q(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),(!o||512&r&&l!==(l=`translate(${e[9]}, 0)`))&&m(t,"transform",l)},i(e){if(!o){for(let e=0;e<a.length;e+=1)N(f[e]);o=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)_(f[e]);o=!1},d(e){e&&c(t),u(f,e),g&&g.d()}}}function X(e){return-1===(e-=1)&&(e=6),e}function Z(e,t,n){let l,{cellGap:o}=t,{cellRadius:a}=t,{cellRect:r}=t,{cellSize:i}=t,{days:c}=t,{fontColor:u}=t,{fontFamily:s}=t,{fontSize:f}=t,{index:d}=t,{monthGap:h}=t,{monthLabelHeight:m}=t,{monthLabels:g}=t;return e.$$set=e=>{"cellGap"in e&&n(10,o=e.cellGap),"cellRadius"in e&&n(0,a=e.cellRadius),"cellRect"in e&&n(1,r=e.cellRect),"cellSize"in e&&n(2,i=e.cellSize),"days"in e&&n(3,c=e.days),"fontColor"in e&&n(4,u=e.fontColor),"fontFamily"in e&&n(5,s=e.fontFamily),"fontSize"in e&&n(6,f=e.fontSize),"index"in e&&n(11,d=e.index),"monthGap"in e&&n(12,h=e.monthGap),"monthLabelHeight"in e&&n(7,m=e.monthLabelHeight),"monthLabels"in e&&n(8,g=e.monthLabels)},e.$$.update=()=>{7170&e.$$.dirty&&n(9,l=(7*r-o+h)*d)},[a,r,i,c,u,s,f,m,g,l,o,d,h]}class ee extends T{constructor(e){super(),A(this,e,Z,U,a,{cellGap:10,cellRadius:0,cellRect:1,cellSize:2,days:3,fontColor:4,fontFamily:5,fontSize:6,index:11,monthGap:12,monthLabelHeight:7,monthLabels:8})}}function te(e,t,n){const l=e.slice();return l[7]=t[n],l[6]=n,l}function ne(e){let t,n;return t=new P({props:{color:e[7].color,date:e[7].date,radius:e[0],size:e[2],value:e[7].value,y:e[7].date.getDay()*e[1],mouseLeave:e[7].mouseLeave,mouseEnter:e[7].mouseEnter,data:e[7].data}}),{c(){H(t.$$.fragment)},m(e,l){O(t,e,l),n=!0},p(e,n){const l={};8&n&&(l.color=e[7].color),8&n&&(l.date=e[7].date),1&n&&(l.radius=e[0]),4&n&&(l.size=e[2]),8&n&&(l.value=e[7].value),10&n&&(l.y=e[7].date.getDay()*e[1]),8&n&&(l.mouseLeave=e[7].mouseLeave),8&n&&(l.mouseEnter=e[7].mouseEnter),8&n&&(l.data=e[7].data),t.$set(l)},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function le(e){let t,n,l,o=e[3],a=[];for(let t=0;t<o.length;t+=1)a[t]=ne(te(e,o,t));const r=e=>_(a[e],1,1,(()=>{a[e]=null}));return{c(){t=s("g");for(let e=0;e<a.length;e+=1)a[e].c();m(t,"transform",n=`translate(${e[5]}, ${e[4]})`)},m(e,n){i(e,t,n);for(let e=0;e<a.length;e+=1)a[e].m(t,null);l=!0},p(e,[i]){if(15&i){let n;for(o=e[3],n=0;n<o.length;n+=1){const l=te(e,o,n);a[n]?(a[n].p(l,i),N(a[n],1)):(a[n]=ne(l),a[n].c(),N(a[n],1),a[n].m(t,null))}for(C(),n=o.length;n<a.length;n+=1)r(n);F()}(!l||48&i&&n!==(n=`translate(${e[5]}, ${e[4]})`))&&m(t,"transform",n)},i(e){if(!l){for(let e=0;e<o.length;e+=1)N(a[e]);l=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)_(a[e]);l=!1},d(e){e&&c(t),u(a,e)}}}function oe(e,t,n){let l,{cellRadius:o}=t,{cellRect:a}=t,{cellSize:r}=t,{days:i}=t,{index:c}=t,{monthLabelHeight:u}=t;return e.$$set=e=>{"cellRadius"in e&&n(0,o=e.cellRadius),"cellRect"in e&&n(1,a=e.cellRect),"cellSize"in e&&n(2,r=e.cellSize),"days"in e&&n(3,i=e.days),"index"in e&&n(6,c=e.index),"monthLabelHeight"in e&&n(4,u=e.monthLabelHeight)},e.$$.update=()=>{66&e.$$.dirty&&n(5,l=a*c)},[o,a,r,i,u,l,c]}class ae extends T{constructor(e){super(),A(this,e,oe,le,a,{cellRadius:0,cellRect:1,cellSize:2,days:3,index:6,monthLabelHeight:4})}}function re(e,t,n){const l=e.slice();return l[26]=t[n],l[28]=n,l}function ie(e,t,n){const l=e.slice();return l[30]=t[n],l[28]=n,l}function ce(e,t,n){const l=e.slice();return l[26]=t[n],l[28]=n,l}function ue(e){let t,n,l,o=e[3]>0&&fe(e),a=e[13],r=[];for(let t=0;t<a.length;t+=1)r[t]=me(re(e,a,t));const f=e=>_(r[e],1,1,(()=>{r[e]=null}));return{c(){o&&o.c(),t=s("g");for(let e=0;e<r.length;e+=1)r[e].c();m(t,"transform",n=`translate(${e[3]})`)},m(e,n){o&&o.m(e,n),i(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null);l=!0},p(e,i){if(e[3]>0?o?o.p(e,i):(o=fe(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),145126&i[0]){let n;for(a=e[13],n=0;n<a.length;n+=1){const l=re(e,a,n);r[n]?(r[n].p(l,i),N(r[n],1)):(r[n]=me(l),r[n].c(),N(r[n],1),r[n].m(t,null))}for(C(),n=a.length;n<r.length;n+=1)f(n);F()}(!l||8&i[0]&&n!==(n=`translate(${e[3]})`))&&m(t,"transform",n)},i(e){if(!l){for(let e=0;e<a.length;e+=1)N(r[e]);l=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)_(r[e]);l=!1},d(e){o&&o.d(e),e&&c(t),u(r,e)}}}function se(e){let t,n,l=e[13],o=[];for(let t=0;t<l.length;t+=1)o[t]=ge(ce(e,l,t));const a=e=>_(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=d()},m(e,l){for(let t=0;t<o.length;t+=1)o[t].m(e,l);i(e,t,l),n=!0},p(e,n){if(14311&n[0]){let r;for(l=e[13],r=0;r<l.length;r+=1){const a=ce(e,l,r);o[r]?(o[r].p(a,n),N(o[r],1)):(o[r]=ge(a),o[r].c(),N(o[r],1),o[r].m(t.parentNode,t))}for(C(),r=l.length;r<o.length;r+=1)a(r);F()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)N(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)_(o[e]);n=!1},d(e){u(o,e),e&&c(t)}}}function fe(e){let t,n=e[4],l=[];for(let t=0;t<n.length;t+=1)l[t]=de(ie(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=d()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);i(e,t,n)},p(e,o){if(65776&o[0]){let a;for(n=e[4],a=0;a<n.length;a+=1){const r=ie(e,n,a);l[a]?l[a].p(r,o):(l[a]=de(r),l[a].c(),l[a].m(t.parentNode,t))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(e){u(l,e),e&&c(t)}}}function de(e){let t,n,l,o=e[30]+"";return{c(){t=s("text"),n=f(o),m(t,"alignment-baseline","middle"),m(t,"fill",e[5]),m(t,"font-family",e[6]),m(t,"font-size",e[7]),m(t,"x","0"),m(t,"y",l=e[16](e[28]))},m(e,l){i(e,t,l),r(t,n)},p(e,a){16&a[0]&&o!==(o=e[30]+"")&&g(n,o),32&a[0]&&m(t,"fill",e[5]),64&a[0]&&m(t,"font-family",e[6]),128&a[0]&&m(t,"font-size",e[7]),65536&a[0]&&l!==(l=e[16](e[28]))&&m(t,"y",l)},d(e){e&&c(t)}}}function he(e){let t,n,l,o=e[10][e[26][0].date.getMonth()]+"";return{c(){t=s("text"),n=f(o),m(t,"alignment-baseline","hanging"),m(t,"fill",e[5]),m(t,"font-family",e[6]),m(t,"font-size",e[7]),m(t,"x",l=e[12]*e[28])},m(e,l){i(e,t,l),r(t,n)},p(e,a){9216&a[0]&&o!==(o=e[10][e[26][0].date.getMonth()]+"")&&g(n,o),32&a[0]&&m(t,"fill",e[5]),64&a[0]&&m(t,"font-family",e[6]),128&a[0]&&m(t,"font-size",e[7]),4096&a[0]&&l!==(l=e[12]*e[28])&&m(t,"x",l)},d(e){e&&c(t)}}}function me(e){let t,n,l,o=e[9]>0&&e[17](e[13],e[28]);t=new ae({props:{cellRadius:e[1],cellRect:e[12],cellSize:e[2],days:e[26],index:e[28],monthLabelHeight:e[9]}});let a=o&&he(e);return{c(){H(t.$$.fragment),a&&a.c(),n=d()},m(e,o){O(t,e,o),a&&a.m(e,o),i(e,n,o),l=!0},p(e,l){const r={};2&l[0]&&(r.cellRadius=e[1]),4096&l[0]&&(r.cellRect=e[12]),4&l[0]&&(r.cellSize=e[2]),8192&l[0]&&(r.days=e[26]),512&l[0]&&(r.monthLabelHeight=e[9]),t.$set(r),8704&l[0]&&(o=e[9]>0&&e[17](e[13],e[28])),o?a?a.p(e,l):(a=he(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){l||(N(t.$$.fragment,e),l=!0)},o(e){_(t.$$.fragment,e),l=!1},d(e){k(t,e),a&&a.d(e),e&&c(n)}}}function ge(e){let t,n;return t=new ee({props:{cellGap:e[0],cellRadius:e[1],cellRect:e[12],cellSize:e[2],days:e[26],fontColor:e[5],fontFamily:e[6],fontSize:e[7],index:e[28],monthGap:e[8],monthLabelHeight:e[9],monthLabels:e[10]}}),{c(){H(t.$$.fragment)},m(e,l){O(t,e,l),n=!0},p(e,n){const l={};1&n[0]&&(l.cellGap=e[0]),2&n[0]&&(l.cellRadius=e[1]),4096&n[0]&&(l.cellRect=e[12]),4&n[0]&&(l.cellSize=e[2]),8192&n[0]&&(l.days=e[26]),32&n[0]&&(l.fontColor=e[5]),64&n[0]&&(l.fontFamily=e[6]),128&n[0]&&(l.fontSize=e[7]),256&n[0]&&(l.monthGap=e[8]),512&n[0]&&(l.monthLabelHeight=e[9]),1024&n[0]&&(l.monthLabels=e[10]),t.$set(l)},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function $e(e){let t,n,l,o,a;const r=[se,ue],u=[];function f(e,t){return"monthly"===e[11]?0:1}return n=f(e),l=u[n]=r[n](e),{c(){t=s("svg"),l.c(),m(t,"viewBox",o=`0 0 ${e[15]} ${e[14]}`)},m(e,l){i(e,t,l),u[n].m(t,null),a=!0},p(e,i){let c=n;n=f(e),n===c?u[n].p(e,i):(C(),_(u[c],1,1,(()=>{u[c]=null})),F(),l=u[n],l||(l=u[n]=r[n](e),l.c()),N(l,1),l.m(t,null)),(!a||49152&i[0]&&o!==(o=`0 0 ${e[15]} ${e[14]}`))&&m(t,"viewBox",o)},i(e){a||(N(l),a=!0)},o(e){_(l),a=!1},d(e){e&&c(t),u[n].d()}}}function pe(e,t,n){let{allowOverflow:l=!1}=t,{cellGap:o=2}=t,{cellRadius:a=0}=t,{cellSize:r=10}=t,{colors:i=["#c6e48b","#7bc96f","#239a3b","#196127"]}=t,{data:c=[]}=t,{dayLabelWidth:u=20}=t,{dayLabels:s=["","Mon","","Wed","","Fri",""]}=t,{emptyColor:f="#ebedf0"}=t,{endDate:d=null}=t,{fontColor:h="#333"}=t,{fontFamily:m="sans-serif"}=t,{fontSize:g=8}=t,{monthGap:$=2}=t,{monthLabelHeight:p=12}=t,{monthLabels:y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}=t,{startDate:v=null}=t,{view:b="weekly"}=t;let w,x,D,L,z,S,R;return e.$$set=e=>{"allowOverflow"in e&&n(18,l=e.allowOverflow),"cellGap"in e&&n(0,o=e.cellGap),"cellRadius"in e&&n(1,a=e.cellRadius),"cellSize"in e&&n(2,r=e.cellSize),"colors"in e&&n(19,i=e.colors),"data"in e&&n(20,c=e.data),"dayLabelWidth"in e&&n(3,u=e.dayLabelWidth),"dayLabels"in e&&n(4,s=e.dayLabels),"emptyColor"in e&&n(21,f=e.emptyColor),"endDate"in e&&n(22,d=e.endDate),"fontColor"in e&&n(5,h=e.fontColor),"fontFamily"in e&&n(6,m=e.fontFamily),"fontSize"in e&&n(7,g=e.fontSize),"monthGap"in e&&n(8,$=e.monthGap),"monthLabelHeight"in e&&n(9,p=e.monthLabelHeight),"monthLabels"in e&&n(10,y=e.monthLabels),"startDate"in e&&n(23,v=e.startDate),"view"in e&&n(11,b=e.view)},e.$$.update=()=>{5&e.$$.dirty[0]&&n(12,w=r+o),16517120&e.$$.dirty[0]&&n(24,x=j({allowOverflow:l,colors:i,data:c,emptyColor:f,endDate:d,startDate:v,view:b})),29624320&e.$$.dirty[0]&&n(13,D="monthly"===b?function({allowOverflow:e,calendar:t,endDate:n,startDate:l}){let o=-1;return l=q(l),n=q(n),t.reduce(((t,a)=>{const r=a.date.getMonth();return o!==r&&(t.push([]),o=r),(e||(!l||a.date>=l)&&(!n||a.date<=n))&&t[t.length-1].push(a),t}),[])}({allowOverflow:l,calendar:x,endDate:d,startDate:v}):function({allowOverflow:e,calendar:t,endDate:n,startDate:l}){return l=q(l),n=q(n),t.reduce(((t,o,a)=>(a%7==0&&t.push([]),(e||(!l||o.date>=l)&&(!n||o.date<=n))&&t[t.length-1].push(o),t)),[])}({allowOverflow:l,calendar:x,endDate:d,startDate:v})),4097&e.$$.dirty[0]&&n(25,L=7*w-o),33561089&e.$$.dirty[0]&&n(14,z="monthly"===b?6*w-o+p:L+p),33569033&e.$$.dirty[0]&&n(15,S="monthly"===b?(L+$)*D.length-$:w*D.length-o+u),4608&e.$$.dirty[0]&&n(16,R=e=>w*e+w/2+p)},[o,a,r,u,s,h,m,g,$,p,y,b,w,D,z,S,R,(e,t)=>{const n=e[t],l=e[t-1];if(!l)return!0;if(!l.length||!n.length)return!1;const o=n[0].date.getMonth(),a=l[0].date.getMonth();return t<e.length&&t<e.length-1&&(o>a||0===o&&11===a)},l,i,c,f,d,v]}class ye extends T{constructor(e){super(),A(this,e,pe,$e,a,{allowOverflow:18,cellGap:0,cellRadius:1,cellSize:2,colors:19,data:20,dayLabelWidth:3,dayLabels:4,emptyColor:21,endDate:22,fontColor:5,fontFamily:6,fontSize:7,monthGap:8,monthLabelHeight:9,monthLabels:10,startDate:23,view:11},[-1,-1])}}return ye.VERSION="x.y.z",ye}));
